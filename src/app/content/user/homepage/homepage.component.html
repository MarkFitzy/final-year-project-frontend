<!-- <mat-toolbar class="toolbar">
  <span
    ><div class="logo">
      <img
        src="assets/images/macro-white.png"
        width="95px"
        height="55px"
      /></div
  ></span>
  <div class="btn-toolbar pull-right">
    <button mat-button class="btn mr-2" [routerLink]="'/addNewImage'">
      <mat-icon>camera_enhance</mat-icon>Add Image
    </button>
    <button mat-raised-button color="warn" (click)="logout()" class="btn mr-2">
      Logout
    </button>
  </div>
</mat-toolbar> -->

<mat-toolbar class="toolbar d-flex justify-content-between">
  <span
    ><div class="logo">
      <a [routerLink]="'/homepage'">
        <img src="assets/images/macro-white.png" width="95px" height="55px"
      /></a></div
  ></span>
  <form class="example-form">
    <div class="search-container">
      <button mat-icon-button class="search-button" [hidden]="isSearchOpen">
        <mat-icon>search</mat-icon>
      </button>
      <input
        #searchKeyword
        (keyup)="searchByKeyword(searchKeyword.value); isSearchOpen = true"
        type="text"
        name="searchKey"
        id="searchKey"
        placeholder="Search for a user"
        [formControl]="control"
        class="example-input"
        [ngClass]="{'search-open': isSearchOpen}"
      />
      <button
        mat-icon-button
        class="cancel-button"
        *ngIf="isSearchOpen"
        (click)="isSearchOpen = false; control.setValue(''); searchByKeyword('')"
      >
        <mat-icon>clear</mat-icon>
      </button>
    </div>
  </form>
  <div class="btn-toolbar pull-right">
    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon class="bMenu">menu</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item [routerLink]="'/addNewImage'">
        <mat-icon>add_a_photo</mat-icon> Add Photo
      </button>
      <button mat-menu-item [routerLink]="'/profile'">
        <mat-icon>account_circle</mat-icon> Account
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>settings_power</mat-icon> Logoff
      </button>
    </mat-menu>
  </div>
</mat-toolbar>
<ng-template #noPosts>
  <div class="d-flex justify-content-center mt-5 text-center">
    <h2 class="noPost">Be the first to add a post!</h2>
  </div>
</ng-template>
<div class="container mt-5" id="mycontainer" gutter="25px">
  <div class="matCardCenter"></div>
  <div class="row col-gap">
    
    
    <ng-container *ngIf="postDetails?.length > 0; else noPosts">
    <mat-card
      class="my-card col-5 align-self-center"
      *ngFor="let p of postDetails"
      width="200px"
      ><span>
        <mat-card-header class="d-flex justify-content-between">
          <div class="col-6 d-flex justify-content-start">
            <mat-chip-list 
              ><mat-chip  #usernameInput  (click)="onSelectedProfile($event)" usernameInput id="matchip-{{p.userName}}" class="usernameChip">{{
                p.userName
              }}</mat-chip></mat-chip-list
            >
          </div>
          <div [hidden]="p.username == 'Macro'" class="col-6 d-flex justify-content-around">
            <mat-icon [hidden]="p.username == 'Macro'"
              class="cameraSpecs"
              matTooltip="Camera Model: {{ p.postCamera }}  |
Lens: {{ p.postLens }}  |
Aperture: {{ p.postAperture }}"
              matTooltipPosition="above"
              matTooltipClass="delay-msg-tooltip"
            >
              info
            </mat-icon>
          </div>
          <br />

          <mat-card-title></mat-card-title>
          <mat-card-subtitle></mat-card-subtitle>
        </mat-card-header>
        <img
          (click)="postOnFocus(p.postId)"
          mat-card-image
          [src]="p.postImages[0].url"
          class="image mt-2"
        />
        <mat-card-content>
          <div class="mt-3">
            <p>
              <b class="Caption">{{ p.postCaption }}</b>
            </p>
          </div>
          <div class="mt-2">
            <p>{{ p.postDescription }}</p>
          </div>
          <!-- <div class="mt-2">
        <mat-chip-list><mat-chip>{{ p.postType}}</mat-chip></mat-chip-list>
      </div> -->
          <!-- <div class="mt-2">
        <ngb-rating [max]="5" [(rate)]="starRating" [readonly]="false"></ngb-rating>
      </div> -->
        </mat-card-content>
        <mat-card-actions> </mat-card-actions>
      </span>
    </mat-card>
  </ng-container>
  </div>
</div>
